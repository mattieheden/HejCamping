@model DatePickerModel
@{
    ViewBag.Title = "Date Picker";
}

<h2>Date Picker</h2>
@using (Html.BeginForm("FromDate", "DatePickerController"))
{
    <div class="form-group">
    <h5>From Date</h5>
    <div id="datepicker1"></div>
    <input type="hidden" id="date1" name="dateFrom" class="form-control" />
    </div>
    <div class="form-group">
    <h5>To Date</h5>
    <div id="datepicker2"></div>
    <input type="hidden" id="date2" name="dateTo" class="form-control" />
    </div>
    <button type="submit" class="btn btn-primary">Book dates</button>
}


<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" rel="stylesheet">

@section Scripts {
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script>
        $(document).ready(function () {
            $('#datepicker1').datepicker({
                format: 'mm/dd/yyyy',
                autoclose: true,
                startDate: new Date(),
                endDate: '+1y',
                inline: true
            }).on('changeDate', function (e) {
                var fromDate = e.date;
                $('#date1').val(fromDate.toLocaleDateString());
                $('#datepicker2').datepicker('setStartDate', fromDate);
            });

            $('#datepicker2').datepicker({
                format: 'mm/dd/yyyy',
                autoclose: true,
                startDate: new Date(),
                inline: true
            }).on('changeDate', function (e) {
                var toDate = e.date;
                $('#date2').val(toDate.toLocaleDateString());
            });
        });
    </script>
}
